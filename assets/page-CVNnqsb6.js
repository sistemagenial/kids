import{u as b,r as i,j as e}from"./index-DkWMjuHb.js";import{B as g}from"./Button-B4k9wJs-.js";import{C as v}from"./Card-CpNQlLbP.js";import{H as j}from"./Header-DPb4Nwfq.js";import{W as f}from"./WhatsAppButton-B-vl6nZy.js";function S(){const o=b(),[s,m]=i.useState(null),[t,c]=i.useState("premium");i.useEffect(()=>{const l=localStorage.getItem("user");if(!l){o("/login");return}try{const a=JSON.parse(l);m(a),c("premium")}catch(a){console.error("Falha ao parsear dados do usu√°rio:",a),localStorage.removeItem("user"),o("/login")}},[o]);const r=l=>{c(l)},d=async()=>{if(!s)return;const a={basic:{name:"B√°sico",devices:1,price:"R$ 49,90",url:"https://mpago.li/2HhCLTP"},pro:{name:"PRO",devices:3,price:"R$ 79,90",url:"https://mpago.li/1SanAMC"},premium:{name:"Premium",devices:5,price:"R$ 99,90",url:"https://mpago.li/1i2XKwS"}}[t];if(!a){console.error("Plano selecionado inv√°lido:",t);return}try{const n=await fetch("/api/send-email.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"renewal",userName:s.name,userEmail:s.email,userCpf:s.cpf,selectedPlan:a.name,planPrice:a.price,planDevices:`${a.devices} dispositivos`})});if(n.ok)console.log("Email de renova√ß√£o enviado com sucesso");else{const h=await n.text().catch(()=>"");console.error("Erro ao enviar email de renova√ß√£o:",n.status,h)}}catch(n){console.error("Erro ao enviar email de renova√ß√£o:",n)}window.open(a.url,"_blank");const u=`Ol√°! Gostaria de renovar minha licen√ßa para o Plano ${a.name} (${a.devices} dispositivos) por ${a.price} anual.

*Dados da conta:*
Nome: ${s.name}
Email: ${s.email}
CPF: ${s.cpf}

Como posso proceder com o pagamento da renova√ß√£o?`,p=`https://wa.me/5517997815756?text=${encodeURIComponent(u)}`;window.open(p,"_blank")},x=()=>{localStorage.removeItem("user"),localStorage.removeItem("trusted_ip"),localStorage.removeItem("registered_devices"),localStorage.removeItem("remembered_email"),localStorage.removeItem("remembered_password"),localStorage.removeItem("biometric_user"),o("/login")};return s?e.jsxs("div",{className:"min-h-screen relative overflow-hidden",style:{background:"linear-gradient(135deg, #3b82f6 0%, #f97316 20%, #ef4444 40%, #8b5cf6 60%, #ec4899 80%, #3b82f6 100%)",backgroundSize:"400% 400%",animation:"gradientShift 25s ease infinite"},children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-10 left-10 w-12 h-12 md:w-20 md:h-20 bg-yellow-300/30 rounded-full animate-bounce",style:{animationDelay:"0s",animationDuration:"3s"}}),e.jsx("div",{className:"absolute top-32 right-20 w-10 h-10 md:w-16 md:h-16 bg-pink-300/30 rounded-full animate-bounce",style:{animationDelay:"1s",animationDuration:"4s"}}),e.jsx("div",{className:"absolute bottom-20 left-32 w-16 h-16 md:w-24 md:h-24 bg-blue-300/30 rounded-full animate-bounce",style:{animationDelay:"2s",animationDuration:"5s"}}),e.jsx("div",{className:"absolute bottom-40 right-10 w-8 h-8 md:w-12 md:h-12 bg-green-300/30 rounded-full animate-bounce",style:{animationDelay:"0.5s",animationDuration:"3.5s"}}),e.jsx("div",{className:"absolute top-20 left-1/4 text-yellow-300 text-xl md:text-2xl animate-pulse",style:{animationDuration:"2s"},children:"‚≠ê"}),e.jsx("div",{className:"absolute top-40 right-1/3 text-yellow-300 text-lg md:text-xl animate-pulse",style:{animationDuration:"3s"},children:"‚ú®"}),e.jsx("div",{className:"absolute bottom-60 left-1/2 text-yellow-300 text-2xl md:text-3xl animate-pulse",style:{animationDuration:"2.5s"},children:"üåü"})]}),e.jsx(j,{user:s,onLogout:x,showBackButton:!0,onBack:()=>o(-1)}),e.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white mb-4 drop-shadow-lg",style:{fontFamily:"Pacifico, serif"},children:"Renovar Licen√ßa"}),e.jsx("p",{className:"text-white/90 text-lg md:text-xl drop-shadow",children:"Escolha seu novo plano e renove seu acesso"})]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsx(v,{className:"bg-white/95 backdrop-blur-sm border-2 border-purple-200/50 shadow-2xl",children:e.jsxs("div",{className:"p-6 md:p-8",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 mb-8",children:[e.jsxs("h3",{className:"font-bold text-blue-800 mb-2",children:[e.jsx("i",{className:"ri-user-line mr-2"}),"Conta Atual"]}),e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Nome:"})," ",s.name]}),e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Email:"})," ",s.email]}),s.whatsapp&&e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"WhatsApp:"})," ",s.whatsapp]}),e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Plano Atual:"})," ",s.license_count===1?"B√°sico":s.license_count===3?"PRO":s.license_count===5?"Premium":`${s.license_count} dispositivos`]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Escolha seu Plano"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all duration-300 ${t==="basic"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>r("basic"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-2xl mr-2",children:"üì±"}),e.jsx("h4",{className:"font-bold text-gray-800",children:"Plano B√°sico"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"At√© 1 dispositivo simult√¢neo"}),e.jsx("p",{className:"font-bold text-blue-600 text-lg",children:"R$ 49,90 (Anual)"}),e.jsx("p",{className:"text-sm text-green-600",children:"em 3x sem juros"})]}),e.jsx("input",{type:"radio",name:"plan",value:"basic",checked:t==="basic",onChange:()=>r("basic"),className:"w-5 h-5"})]})}),e.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all duration-300 ${t==="pro"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-orange-300"}`,onClick:()=>r("pro"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-2xl mr-2",children:"üî•"}),e.jsx("h4",{className:"font-bold text-gray-800",children:"Plano PRO"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"At√© 3 dispositivos simult√¢neos"}),e.jsx("p",{className:"font-bold text-orange-600 text-lg",children:"R$ 79,90 (Anual)"}),e.jsx("p",{className:"text-sm text-green-600",children:"em 3x sem juros"})]}),e.jsx("input",{type:"radio",name:"plan",value:"pro",checked:t==="pro",onChange:()=>r("pro"),className:"w-5 h-5"})]})}),e.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all duration-300 relative ${t==="premium"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,onClick:()=>r("premium"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-2xl mr-2",children:"üöÄ"}),e.jsx("h4",{className:"font-bold text-gray-800",children:"Plano Premium"}),e.jsx("span",{className:"ml-2 bg-purple-500 text-white text-xs px-2 py-1 rounded-full",children:"Recomendado"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"At√© 5 dispositivos simult√¢neos"}),e.jsx("p",{className:"font-bold text-purple-600 text-lg",children:"R$ 99,90 (Anual)"}),e.jsx("p",{className:"text-sm text-green-600",children:"em 3x sem juros"})]}),e.jsx("input",{type:"radio",name:"plan",value:"premium",checked:t==="premium",onChange:()=>r("premium"),className:"w-5 h-5"})]})})]})]}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 mt-6",children:e.jsxs("p",{className:"text-sm text-blue-800 text-center",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Voc√™ pode mudar seu plano a qualquer momento. S√≥ falar conosco! Assim que efetuar o pagamento receber√° seu acesso em at√© 24 horas"]})}),e.jsx("div",{className:"mt-8",children:e.jsxs(g,{onClick:d,className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-4 text-lg shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300 whitespace-nowrap",children:[e.jsx("i",{className:"ri-whatsapp-line mr-2"}),"Efetuar Pagamento"]})})]})})})]}),e.jsx(f,{message:"Ol√°! Tenho d√∫vidas sobre a renova√ß√£o da minha licen√ßa do Profeta de Deus Kids"}),e.jsx("style",{children:`
        @keyframes gradientShift {
          0% { background-position: 0% 50%; }
          25% { background-position: 25% 50%; }
          50% { background-position: 50% 50%; }
          75% { background-position: 75% 50%; }
          100% { background-position: 100% 50%; }
        }
      `})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-purple-500"})})}export{S as default};
