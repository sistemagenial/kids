import{r as o,u as _,b as D,j as e}from"./index-DkWMjuHb.js";import{B as i}from"./Button-B4k9wJs-.js";function E({user:s,daysRemaining:l,onLogout:x,onRenew:O,showBackButton:C,onBack:b}){const[m,t]=o.useState(!1),[n,f]=o.useState(""),[k,d]=o.useState(!1),[h,c]=o.useState(""),a=_(),p=D();o.useEffect(()=>{const r=localStorage.getItem("deviceName");r?f(r):s&&f(s.name)},[s]);const N=()=>{a(s?"/inicio":"/")},j=()=>{b?b():a(-1)},S=()=>{h.trim()&&(f(h.trim()),localStorage.setItem("deviceName",h.trim()),d(!1),c(""))},u=()=>{const r="5517997815756",g=encodeURIComponent("Olá! Gostaria de fazer upgrade do meu plano no Profeta de Deus Kids.");window.open(`https://wa.me/${r}?text=${g}`,"_blank")},v=()=>{const g=`https://wa.me/5517997815756?text=${encodeURIComponent("Olá! Preciso de ajuda com o Profeta de Deus Kids")}`;window.open(g,"_blank")},y=r=>{switch(r){case 1:return"BÁSICO";case 3:return"PRO";case 5:return"PREMIUM";default:return"BÁSICO"}},w=C||p.pathname!=="/"&&p.pathname!=="/inicio"&&p.pathname!=="/login"&&p.pathname!=="/home";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-2 sm:py-3",children:[e.jsxs("div",{className:"hidden md:flex justify-between items-center gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[e.jsx("div",{onClick:N,className:"cursor-pointer flex-shrink-0",children:e.jsx("img",{src:"https://static.readdy.ai/image/90aee2f41c3492197bc6a5939c00cef4/41af0e5a6d49213fb975fa0447bec3cd.png",alt:"Profeta de Deus Kids",className:"h-8 sm:h-10 object-contain hover:scale-105 transition-transform duration-300"})}),w&&e.jsxs(i,{onClick:j,className:"bg-white hover:bg-gray-50 text-gray-700 font-medium px-2 py-1 text-xs border border-gray-300 rounded whitespace-nowrap",children:[e.jsx("i",{className:"ri-arrow-left-line text-sm"}),e.jsx("span",{className:"ml-1",children:"VOLTAR"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[s&&e.jsxs(i,{onClick:()=>a("/inicio"),className:"bg-blue-500 hover:bg-blue-600 text-white font-medium px-2 py-1 text-xs rounded whitespace-nowrap",children:[e.jsx("i",{className:"ri-home-line text-sm"}),e.jsx("span",{className:"ml-1",children:"INÍCIO"})]}),e.jsxs(i,{onClick:v,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-medium px-2 py-1 text-xs rounded whitespace-nowrap",children:[e.jsx("i",{className:"ri-whatsapp-line text-sm"}),e.jsx("span",{className:"ml-1",children:"FALE CONOSCO"})]}),s&&l!==void 0&&!s.is_admin&&e.jsxs("div",{className:"text-center px-2",children:[e.jsx("p",{className:`text-lg sm:text-xl font-bold ${l<=0?"text-red-600":l<=30?"text-yellow-600":"text-green-600"}`,children:l<=0?"0":l}),e.jsx("p",{className:"text-xs text-gray-500 leading-tight",children:"DIAS RESTANTES"})]}),s&&l!==void 0&&!s.is_admin&&l<=60&&e.jsxs(i,{onClick:()=>a("/renovar"),className:"bg-orange-500 hover:bg-orange-600 text-white font-medium px-2 py-1 text-xs rounded whitespace-nowrap",children:[e.jsx("i",{className:"ri-refresh-line text-sm"}),e.jsx("span",{className:"ml-1",children:"RENOVAR"})]}),s&&e.jsxs("div",{className:"relative",children:[e.jsxs(i,{onClick:()=>t(!m),className:"bg-gray-700 hover:bg-gray-800 text-white font-medium px-2 py-1 text-xs rounded whitespace-nowrap",children:[e.jsx("i",{className:"ri-user-line text-sm"}),e.jsx("span",{className:"truncate text-xs ml-1",children:n||s.name}),e.jsx("i",{className:"ri-arrow-down-s-line text-xs ml-1"})]}),m&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-50",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[e.jsx("p",{className:"font-medium text-gray-800",children:n||s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.email}),!s.is_admin&&e.jsxs("p",{className:"text-sm text-blue-600 font-medium",children:["Plano ",y(s.license_count)," (",s.license_count," dispositivo",s.license_count>1?"s":"",")"]})]}),e.jsxs("button",{onClick:()=>{a("/inicio"),t(!1)},className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100 flex items-center",children:[e.jsx("i",{className:"ri-home-line mr-3"}),"Início"]}),e.jsxs("button",{onClick:()=>{a("/historias"),t(!1)},className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100 flex items-center",children:[e.jsx("i",{className:"ri-book-line mr-3"}),"Histórias"]}),e.jsxs("button",{onClick:()=>{a("/videos"),t(!1)},className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100 flex items-center",children:[e.jsx("i",{className:"ri-video-line mr-3"}),"Vídeos"]}),!s.is_admin&&e.jsxs("button",{onClick:()=>{a("/renovar"),t(!1)},className:"w-full text-left px-4 py-2 text-orange-600 hover:bg-orange-50 flex items-center",children:[e.jsx("i",{className:"ri-refresh-line mr-3"}),"Renovar"]}),!s.is_admin&&e.jsxs("button",{onClick:()=>{u(),t(!1)},className:"w-full text-left px-4 py-2 text-blue-600 hover:bg-blue-50 flex items-center border-t border-gray-200",children:[e.jsx("i",{className:"ri-vip-crown-line mr-3"}),"Upgrade do Plano"]}),e.jsxs("button",{onClick:()=>{a("/gerenciar-dispositivos"),t(!1)},className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100 flex items-center",children:[e.jsx("i",{className:"ri-smartphone-line mr-3"}),"Gerenciar Dispositivos"]}),e.jsxs("button",{onClick:()=>{c(n||s.name),d(!0),t(!1)},className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100 flex items-center",children:[e.jsx("i",{className:"ri-edit-line mr-3"}),"Mudar Nome do Dispositivo"]}),s.is_admin&&e.jsxs("button",{onClick:()=>{a("/admin"),t(!1)},className:"w-full text-left px-4 py-2 text-purple-600 hover:bg-purple-50 flex items-center border-t border-gray-200",children:[e.jsx("i",{className:"ri-settings-line mr-3"}),"Painel Admin"]}),e.jsxs("button",{onClick:()=>{x&&x(),t(!1)},className:"w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 flex items-center border-t border-gray-200",children:[e.jsx("i",{className:"ri-logout-box-line mr-3"}),"Sair"]})]})]})]})]}),e.jsxs("div",{className:"md:hidden space-y-2",children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("div",{onClick:N,className:"cursor-pointer",children:e.jsx("img",{src:"https://static.readdy.ai/image/90aee2f41c3492197bc6a5939c00cef4/41af0e5a6d49213fb975fa0447bec3cd.png",alt:"Profeta de Deus Kids",className:"h-8 object-contain hover:scale-105 transition-transform duration-300"})})}),e.jsxs("div",{className:"flex justify-center gap-2",children:[s&&e.jsxs(i,{onClick:()=>a("/inicio"),className:"bg-blue-500 hover:bg-blue-6 text-white font-medium px-3 py-2 text-sm rounded whitespace-nowrap",children:[e.jsx("i",{className:"ri-home-line text-sm"}),e.jsx("span",{className:"ml-1",children:"INÍCIO"})]}),e.jsxs(i,{onClick:v,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-medium px-3 py-2 text-sm rounded whitespace-nowrap",children:[e.jsx("i",{className:"ri-whatsapp-line text-sm"}),e.jsx("span",{className:"ml-1",children:"FALE CONOSCO"})]})]}),s&&l!==void 0&&!s.is_admin&&e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"text-center px-4 py-2 bg-white rounded-lg border border-gray-200",children:[e.jsx("p",{className:`text-lg font-bold ${l<=0?"text-red-600":l<=30?"text-yellow-600":"text-green-600"}`,children:l<=0?"0":l}),e.jsx("p",{className:"text-xs text-gray-500 leading-tight",children:"DIAS RESTANTES"})]})}),s&&l!==void 0&&!s.is_admin&&l<=60&&e.jsx("div",{className:"flex justify-center",children:e.jsxs(i,{onClick:()=>a("/renovar"),className:"bg-orange-500 hover:bg-orange-600 text-white font-medium px-4 py-2 text-sm rounded whitespace-nowrap",children:[e.jsx("i",{className:"ri-refresh-line text-sm"}),e.jsx("span",{className:"ml-1",children:"RENOVAR"})]})}),s&&e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsxs(i,{onClick:()=>t(!m),className:"bg-gray-700 hover:bg-gray-800 text-white font-medium px-4 py-2 text-sm rounded whitespace-nowrap",children:[e.jsx("i",{className:"ri-user-line text-sm"}),e.jsx("span",{className:"truncate text-sm ml-1",children:n||s.name}),e.jsx("i",{className:"ri-arrow-down-s-line text-sm ml-1"})]}),m&&e.jsxs("div",{className:"absolute left-1/2 transform -translate-x-1/2 mt-2 w-64 bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-50",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[e.jsx("p",{className:"font-medium text-gray-800",children:n||s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.email}),!s.is_admin&&e.jsxs("p",{className:"text-sm text-blue-600 font-medium",children:["Plano ",y(s.license_count)," (",s.license_count," dispositivo",s.license_count>1?"s":"",")"]})]}),e.jsxs("button",{onClick:()=>{a("/inicio"),t(!1)},className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100 flex items-center",children:[e.jsx("i",{className:"ri-home-line mr-3"}),"Início"]}),e.jsxs("button",{onClick:()=>{a("/historias"),t(!1)},className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100 flex items-center",children:[e.jsx("i",{className:"ri-book-line mr-3"}),"Histórias"]}),e.jsxs("button",{onClick:()=>{a("/videos"),t(!1)},className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100 flex items-center",children:[e.jsx("i",{className:"ri-video-line mr-3"}),"Vídeos"]}),!s.is_admin&&e.jsxs("button",{onClick:()=>{a("/renovar"),t(!1)},className:"w-full text-left px-4 py-2 text-orange-600 hover:bg-orange-50 flex items-center",children:[e.jsx("i",{className:"ri-refresh-line mr-3"}),"Renovar"]}),!s.is_admin&&e.jsxs("button",{onClick:()=>{u(),t(!1)},className:"w-full text-left px-4 py-2 text-blue-600 hover:bg-blue-50 flex items-center border-t border-gray-200",children:[e.jsx("i",{className:"ri-vip-crown-line mr-3"}),"Upgrade do Plano"]}),e.jsxs("button",{onClick:()=>{a("/gerenciar-dispositivos"),t(!1)},className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100 flex items-center",children:[e.jsx("i",{className:"ri-smartphone-line mr-3"}),"Gerenciar Dispositivos"]}),e.jsxs("button",{onClick:()=>{c(n||s.name),d(!0),t(!1)},className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100 flex items-center",children:[e.jsx("i",{className:"ri-edit-line mr-3"}),"Mudar Nome do Dispositivo"]}),s.is_admin&&e.jsxs("button",{onClick:()=>{a("/admin"),t(!1)},className:"w-full text-left px-4 py-2 text-purple-600 hover:bg-purple-50 flex items-center border-t border-gray-200",children:[e.jsx("i",{className:"ri-settings-line mr-3"}),"Painel Admin"]}),e.jsxs("button",{onClick:()=>{x&&x(),t(!1)},className:"w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 flex items-center border-t border-gray-200",children:[e.jsx("i",{className:"ri-logout-box-line mr-3"}),"Sair"]})]})]})}),w&&e.jsx("div",{className:"flex justify-center",children:e.jsxs(i,{onClick:j,className:"bg-white hover:bg-gray-50 text-gray-700 font-medium px-4 py-2 text-sm border border-gray-300 rounded whitespace-nowrap",children:[e.jsx("i",{className:"ri-arrow-left-line text-sm"}),e.jsx("span",{className:"ml-1",children:"VOLTAR"})]})})]})]})}),k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Mudar Nome do Dispositivo"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"deviceName",className:"block text-sm font-medium text-gray-7 mb-2",children:"Nome do Dispositivo"}),e.jsx("input",{id:"deviceName",type:"text",value:h,onChange:r=>c(r.target.value),placeholder:"Ex: Tablet da Maria, Celular do João...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Este nome aparecerá no botão do menu para identificar qual criança está usando o dispositivo."})]}),e.jsxs("div",{className:"flex gap-2 mt-6",children:[e.jsx(i,{onClick:S,className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white font-bold py-2",children:"Salvar"}),e.jsx(i,{onClick:()=>{d(!1),c("")},className:"bg-gray-500 hover:bg-gray-600 text-white font-bold px-4 py-2",children:"Cancelar"})]})]})})]})}export{E as H};
